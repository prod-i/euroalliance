<template>
  <section class="content">
    <div class="container">
      <!--breadcrumbs-->
      <ui-breadcrumbs :pages="[{ title: '–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç' }]" />
      <h1>–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç</h1>
      <!-- üëâ page-showcase -->
      <page-showcase>
        <template #title>
          –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç –∏ –æ–±–º–µ–Ω
        </template>
        <template #text>
          –¢–µ–∫—Å—Ç —Ä–µ—Ä–∞–π—Ç–µ—Ä—É. –í—ã–≥–æ–¥–Ω—ã–π –æ–±–º–µ–Ω –≤–∞–ª—é—Ç –æ—Ç, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫—É—Ä—Å–∞—Ö –æ–±–º–µ–Ω–∞
          –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö –≤–∞–ª—é—Ç —è–≤–ª—è–µ—Ç—Å—è —Å–ø—Ä–∞–≤–æ—á–Ω–æ–π –∏ –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è
        </template>
        <template #img>
          <img src="/temp/icon-slim.svg" alt="" loading="lazy">
        </template>
      </page-showcase>
    </div>
    <div class="map-block content-inside">
      <div class="container">
        <div class="map-main">
          <div class="map-main__header">
            –ö—É—Ä—Å –≤–∞–ª—é—Ç –≤
            <div class="map-main__name">
              <span @click="handleSelectOption">
                {{ selected }}
                <svg width="12" height="12" aria-hidden="true">
                  <use xlink:href="#icon-down" />
                </svg>
              </span>
              <ul class="popup-menu" :class="{ show: showPopup }">
                <li
                  v-for="city in cityData.list"
                  :key="city.id"
                  class="popup-menu__item"
                  @click="handleSelected(city.title)"
                >
                  {{ city.title }}
                </li>
              </ul>
            </div>
          </div>
          <div class="map-main__content">
            <exchange-rate class="exchange-table--small" :selected="selected" :city="cityData.list" />
          </div>
        </div>
      </div>
    </div>
  </section>
</template>
<script>
import ExchangeRate from '~/components/exchange-rate/index.vue'
import exchangeRateData from '~/mocks/exchange-rate-data'

export default {
  components: {
    ExchangeRate
  },
  data () {
    return {
      showPopup: false,
      selected: '–§—É—Ä–º–∞–Ω–æ–≤',
      cityData: exchangeRateData
    }
  },
  methods: {
    handleSelectOption () {
      this.showPopup = !this.showPopup
    },
    handleSelected (title) {
      this.selected = title
      this.showPopup = false
    }
  }
}
</script>
